filebeat.inputs:
 - paths:
     - /tmp/logs/app*
   document_type: myapp
   json.keys_under_root: true
   json.overwrite_keys: true
   harvester_limit: 4
   close_eof: true
queue.mem:
 events: 1024000
 flush.min_events: 512000
output.kafka:
 hosts: ["kafka_cluster:9092"]
 compression: snappy
 partition.round_robin:
  reachable_only: false
 topic: "unmasked-topic"
 worker: 4  
 bulk_max_size: 512000
 backoff.init: 10s
 codec.json:
  pretty: false
